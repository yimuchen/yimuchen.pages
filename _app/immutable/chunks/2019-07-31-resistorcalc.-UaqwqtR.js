import{s as me,n as jt,r as he,o as ve}from"./scheduler.D0k7T8uo.js";import{S as fe,i as pe,e as r,s as u,c as i,g as f,a as d,h as k,f as o,b as C,n as Ft,d as v,k as l,o as it}from"./index.BWiPcvWN.js";function be(t){let s,c='<ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#about-the-algorithm">About the algorithm</a></li></ol>',h,b,B=`This is a tool for helping one get a reasonable resistance value given a limit
selection of resistor, by generating groups of parallel resistors. The rationale
for limiting the question to just parallel resistors/capacitors is that this is
the scenario that typically occurs in electronics experiments, particularly with
surface mount experiments: stacking components in parallel is much easier (in
most cases), than making extra space for components in series. Allowing the use
of components in both parallel and serial have the problem much too complicated
to write, so I’m limiting the use case to either just parallel or just series.`,M,y,L=`Be warned that this algorithm is currently very non-optimized, and can consume
a very large amount of memory. To help the algorithm end early, try using a
smaller tolerance or lower the maximum number of components allowed.`,I,m,T=`Since I this a tool primarily for my own use. I have loaded in some of the
components found in the electronics lab of the UMD CMS group. All the code can
be found on the <a href="https://github.com/yimuchen/yimuchen.pages" rel="nofollow">GitHub repository</a>
of this blog.`,_,a,p,H='<col style="width:30%"/> <col style="max-width:50%;"/>',E,x,g,O="<h3>Resistor values</h3>",S,R,Y,kt,Ht,U,Kt="Clear",Lt,A,P,Vt=`<b>Set custom values</b> <p style="font-size: 0.8em;">Add a list of impedance values, separated by spaces. The short hands like 100K, 15.6M
        can be used. The multipliers &#39;p&#39;, &#39;n&#39;, &#39;u&#39;, &#39;m&#39; &#39;k/K&#39;, &#39;M&#39;, &#39;G&#39; may be used.</p>`,wt,D,Z,Bt,q,Jt="Add to calculator",It,Rt,z,G,Qt="<b>Load preset values</b>",Dt,w,j,Wt="Set to E12 collection",Nt,F,Xt="Set to E24 collection",Ot,$,Yt="Set to UMD 0603 Resistor",St,K,Zt='<td class="svelte-mcl7a9"><b>Target value</b></td> <td class="svelte-mcl7a9"><input type="text" id="target"/></td>',Ut,tt,te='<td class="svelte-mcl7a9"><b>Max. components</b></td> <td class="svelte-mcl7a9"><input type="text" id="num" value="3"/></td>',At,et,ee='<td class="svelte-mcl7a9"><b>Tolerance</b></td> <td class="svelte-mcl7a9"><input type="text" id="tolerance" value="0.05"/></td>',Pt,lt,le='<td class="svelte-mcl7a9"><b>Calculation type</b></td> <td class="svelte-mcl7a9"><input type="radio" name="sum_type" id="sum"/>R-Series/C-Parallel<br/> <input type="radio" name="sum_type" id="invsum" checked=""/>R-Parallel/C-Series</td>',qt,V,ot,zt,nt,J,ne="Calculate",mt,Q,se="",ht,W,ae="Results",vt,st,ft,at,pt,bt,_t,N,re='<a aria-hidden="true" tabindex="-1" href="#about-the-algorithm"><span class="icon icon-link"></span></a>About the algorithm',yt,X,ie=`The algorithm is basically brute forcing all possible combinations with an
early exist for when combination moves above/below the tolerance, since if
calculating resistance series, the total resistance can only go up, and there
is no point in trying more if already past the tolerance threshold (vice versa
for resistance parallel calculations). This is highly inefficient and very
memory hungry, but is easy enough to code in one afternoon, that is what I
went with :/`,Gt,oe;return{c(){s=r("nav"),s.innerHTML=c,h=u(),b=r("p"),b.textContent=B,M=u(),y=r("p"),y.textContent=L,I=u(),m=r("p"),m.innerHTML=T,_=u(),a=r("table"),p=r("colgroup"),p.innerHTML=H,E=u(),x=r("tr"),g=r("td"),g.innerHTML=O,S=u(),R=r("td"),Y=r("div"),kt=r("br"),Ht=u(),U=r("button"),U.textContent=Kt,Lt=u(),A=r("tr"),P=r("td"),P.innerHTML=Vt,wt=u(),D=r("td"),Z=r("input"),Bt=u(),q=r("button"),q.textContent=Jt,It=r("br"),Rt=u(),z=r("tr"),G=r("td"),G.innerHTML=Qt,Dt=u(),w=r("td"),j=r("button"),j.textContent=Wt,Nt=u(),F=r("button"),F.textContent=Xt,Ot=u(),$=r("button"),$.textContent=Yt,St=u(),K=r("tr"),K.innerHTML=Zt,Ut=u(),tt=r("tr"),tt.innerHTML=te,At=u(),et=r("tr"),et.innerHTML=ee,Pt=u(),lt=r("tr"),lt.innerHTML=le,qt=u(),V=r("tr"),ot=r("td"),zt=u(),nt=r("td"),J=r("button"),J.textContent=ne,mt=u(),Q=r("table"),Q.innerHTML=se,ht=u(),W=r("h2"),W.textContent=ae,vt=u(),st=r("div"),ft=u(),at=r("div"),pt=u(),bt=r("hr"),_t=u(),N=r("h2"),N.innerHTML=re,yt=u(),X=r("p"),X.textContent=ie,this.h()},l(e){s=i(e,"NAV",{class:!0,"data-svelte-h":!0}),f(s)!=="svelte-1rfbyxg"&&(s.innerHTML=c),h=d(e),b=i(e,"P",{"data-svelte-h":!0}),f(b)!=="svelte-wmfolo"&&(b.textContent=B),M=d(e),y=i(e,"P",{"data-svelte-h":!0}),f(y)!=="svelte-1crk5tg"&&(y.textContent=L),I=d(e),m=i(e,"P",{"data-svelte-h":!0}),f(m)!=="svelte-zcnrfa"&&(m.innerHTML=T),_=d(e),a=i(e,"TABLE",{});var n=k(a);p=i(n,"COLGROUP",{"data-svelte-h":!0}),f(p)!=="svelte-1vshfxc"&&(p.innerHTML=H),E=d(n),x=i(n,"TR",{});var Tt=k(x);g=i(Tt,"TD",{class:!0,"data-svelte-h":!0}),f(g)!=="svelte-11lol58"&&(g.innerHTML=O),S=d(Tt),R=i(Tt,"TD",{class:!0});var ct=k(R);Y=i(ct,"DIV",{id:!0,style:!0}),k(Y).forEach(o),kt=i(ct,"BR",{}),Ht=d(ct),U=i(ct,"BUTTON",{"data-svelte-h":!0}),f(U)!=="svelte-nmuxex"&&(U.textContent=Kt),ct.forEach(o),Tt.forEach(o),Lt=d(n),A=i(n,"TR",{});var xt=k(A);P=i(xt,"TD",{class:!0,"data-svelte-h":!0}),f(P)!=="svelte-ifuysb"&&(P.innerHTML=Vt),wt=d(xt),D=i(xt,"TD",{class:!0});var ut=k(D);Z=i(ut,"INPUT",{type:!0,id:!0,style:!0}),Bt=d(ut),q=i(ut,"BUTTON",{"data-svelte-h":!0}),f(q)!=="svelte-1k8n1c9"&&(q.textContent=Jt),It=i(ut,"BR",{}),ut.forEach(o),xt.forEach(o),Rt=d(n),z=i(n,"TR",{});var gt=k(z);G=i(gt,"TD",{class:!0,"data-svelte-h":!0}),f(G)!=="svelte-lkgwge"&&(G.innerHTML=Qt),Dt=d(gt),w=i(gt,"TD",{class:!0});var rt=k(w);j=i(rt,"BUTTON",{"data-svelte-h":!0}),f(j)!=="svelte-jvg1i6"&&(j.textContent=Wt),Nt=d(rt),F=i(rt,"BUTTON",{"data-svelte-h":!0}),f(F)!=="svelte-vej2ru"&&(F.textContent=Xt),Ot=d(rt),$=i(rt,"BUTTON",{"data-svelte-h":!0}),f($)!=="svelte-1njp22a"&&($.textContent=Yt),rt.forEach(o),gt.forEach(o),St=d(n),K=i(n,"TR",{style:!0,"data-svelte-h":!0}),f(K)!=="svelte-2eb7a3"&&(K.innerHTML=Zt),Ut=d(n),tt=i(n,"TR",{"data-svelte-h":!0}),f(tt)!=="svelte-j1v7mz"&&(tt.innerHTML=te),At=d(n),et=i(n,"TR",{"data-svelte-h":!0}),f(et)!=="svelte-17s5ap"&&(et.innerHTML=ee),Pt=d(n),lt=i(n,"TR",{"data-svelte-h":!0}),f(lt)!=="svelte-1cqz2td"&&(lt.innerHTML=le),qt=d(n),V=i(n,"TR",{});var Ct=k(V);ot=i(Ct,"TD",{class:!0}),k(ot).forEach(o),zt=d(Ct),nt=i(Ct,"TD",{class:!0});var ce=k(nt);J=i(ce,"BUTTON",{"data-svelte-h":!0}),f(J)!=="svelte-1hk6p0g"&&(J.textContent=ne),ce.forEach(o),Ct.forEach(o),n.forEach(o),mt=d(e),Q=i(e,"TABLE",{"data-svelte-h":!0}),f(Q)!=="svelte-6qntp6"&&(Q.innerHTML=se),ht=d(e),W=i(e,"H2",{"data-svelte-h":!0}),f(W)!=="svelte-s6ksa4"&&(W.textContent=ae),vt=d(e),st=i(e,"DIV",{id:!0}),k(st).forEach(o),ft=d(e),at=i(e,"DIV",{id:!0}),k(at).forEach(o),pt=d(e),bt=i(e,"HR",{}),_t=d(e),N=i(e,"H2",{id:!0,"data-svelte-h":!0}),f(N)!=="svelte-1kzhkld"&&(N.innerHTML=re),yt=d(e),X=i(e,"P",{"data-svelte-h":!0}),f(X)!=="svelte-149oj89"&&(X.textContent=ie),this.h()},h(){C(s,"class","toc"),C(g,"class","svelte-mcl7a9"),C(Y,"id","resistors"),Ft(Y,"display","table"),C(R,"class","svelte-mcl7a9"),C(P,"class","svelte-mcl7a9"),C(Z,"type","text"),C(Z,"id","resistance-input"),Ft(Z,"width","100%"),C(D,"class","svelte-mcl7a9"),C(G,"class","svelte-mcl7a9"),C(w,"class","svelte-mcl7a9"),Ft(K,"border-top","thick"),C(ot,"class","svelte-mcl7a9"),C(nt,"class","svelte-mcl7a9"),C(st,"id","results"),C(at,"id","debug"),C(N,"id","about-the-algorithm")},m(e,n){v(e,s,n),v(e,h,n),v(e,b,n),v(e,M,n),v(e,y,n),v(e,I,n),v(e,m,n),v(e,_,n),v(e,a,n),l(a,p),l(a,E),l(a,x),l(x,g),l(x,S),l(x,R),l(R,Y),l(R,kt),l(R,Ht),l(R,U),l(a,Lt),l(a,A),l(A,P),l(A,wt),l(A,D),l(D,Z),l(D,Bt),l(D,q),l(D,It),l(a,Rt),l(a,z),l(z,G),l(z,Dt),l(z,w),l(w,j),l(w,Nt),l(w,F),l(w,Ot),l(w,$),l(a,St),l(a,K),l(a,Ut),l(a,tt),l(a,At),l(a,et),l(a,Pt),l(a,lt),l(a,qt),l(a,V),l(V,ot),l(V,zt),l(V,nt),l(nt,J),v(e,mt,n),v(e,Q,n),v(e,ht,n),v(e,W,n),v(e,vt,n),v(e,st,n),v(e,ft,n),v(e,at,n),v(e,pt,n),v(e,bt,n),v(e,_t,n),v(e,N,n),v(e,yt,n),v(e,X,n),Gt||(oe=[it(U,"click",t[5]),it(q,"click",t[1]),it(j,"click",t[2]),it(F,"click",t[3]),it($,"click",t[4]),it(J,"click",t[0])],Gt=!0)},p:jt,i:jt,o:jt,d(e){e&&(o(s),o(h),o(b),o(M),o(y),o(I),o(m),o(_),o(a),o(mt),o(Q),o(ht),o(W),o(vt),o(st),o(ft),o(at),o(pt),o(bt),o(_t),o(N),o(yt),o(X)),Gt=!1,he(oe)}}}const Ce={title:"電阻計算機 (Resistance calculator)",tags:["computing","tools","electronics"]};function _e(t){return t>0?t:-t}function Mt(t,s){return _e(t-s)/s}function dt(t){var s=0;return t.forEach(c=>s+=c),s}function Et(t){var s=0;return t.forEach(c=>s+=1/c),1/s}function de(t){const s=t<1e-9?1e-12:t<1e-6?1e-9:t<.001?1e-6:t<1?.001:t<1e3?1:t<1e6?1e3:t<1e9?1e6:1e9,c=t<1e-9?"p":t<1e-6?"n":t<.001?"u":t<1?"m":t<1e3?" ":t<1e6?"k":t<1e9?"M":"G";return`${Number.parseFloat((t/s).toFixed(5))}`+c}function $t(t){const s="pnumkKMG";var c=t.charAt(t.length-1);return s.includes(c)&&(t=t.substring(0,t.length-1)),c=c=="p"?1e-12:c=="n"?1e-9:c=="u"?1e-6:c=="m"?.001:c=="k"||c=="K"?1e3:c=="M"?1e6:c=="G"?1e9:1,Number(t)*c}function ye(t){const s=$t(document.getElementById("target").value);Number(document.getElementById("tolerance").value);const c=document.getElementById("invsum").checked?Et:dt;t.sort((M,y)=>{var L=Mt(c(M),s)-Mt(c(y),s);if(L!=0)return L;var I=M.length-y.length;if(I!=0)return I;var m=M.filter((_,a,p)=>p.indexOf(_)===a),T=y.filter((_,a,p)=>p.indexOf(_)===a);return m.length-T.length});var h="Total number of solutions: "+t.length;t.length>100&&(h+="(Showing closest 100 solutions)"),h+='<table style="margin-left: auto; margin-right: auto;">',h+=`<tr style="text-align:center">
           <th>Combination</th>
           <th>Result</th>
           <th>Deviation</th>
  </tr>`;for(var b=0;b<t.length&&b<100;++b){const M=t[b],y=c(M),L=Mt(y,s);h+="<tr>",h+="<td>";for(var B=0;B<M.length;++B)B!=0&&(c===Et?h+=" || ":h+=" + "),h+=de(M[B]);h+="</td>",h+=`<td>${y.toFixed(2)}</td>`,h+=`<td>${(L*100).toFixed(1)}% </td>`,h+="</tr>"}h+="</table>",document.getElementById("results").innerHTML=h}function ue(t){const s=[];for(const c of[1,10,100,1e3,1e4,1e5])t.forEach(h=>s.push(h*c));return s}function Te(t){var s=[];function c(){var m=[];const T=$t(document.getElementById("target").value),_=Number(document.getElementById("tolerance").value),a=document.getElementById("invsum").checked?Et:dt,p=Number(document.getElementById("num").value);h(m,[],p,a,T,_),console.log("Final result:",m),ye(m)}function h(m,T,_,a,p,H){var E=a===dt?1:-1,x=a===dt?0:s.length-1;T.length>0&&(x=s.indexOf(T[T.length-1]));for(var g=x;g<s.length&&g>=0;g+=E){const O=[...T,s[g]],S=a(O);if(Mt(S,p)<H&&m.push(O),a===dt){if(S>p*(1+H))break}else if(a===Et&&S<p*(1+H))break;O.length<_&&h(m,O,_,a,p,H)}}function b(m){s=m.sort((E,x)=>E-x),s=s.filter((E,x,g)=>g.indexOf(E)===x);for(var T=1e-12,_=1e-11,a="<div>";_<1e10;){var p=s.filter(function(E,x,g){return T<=E&&E<_}),H='<div style="display: table-row;">';p.forEach(E=>{H+='<div style="display: table-cell; padding-left:0.2em;">'+de(E)+"</div>"}),H+="</div>",p.length>0&&(a+=H),T*=10,_*=10}s.length===0&&(a+="(None)"),a+="</div>",document.getElementById("resistors").innerHTML=a}function B(){var m=document.getElementById("resistance-input").value;m=m.split(/[\s,]+/),m=m.map(T=>$t(T)),b([...s,m])}function M(){b(ue([1,1.2,1.5,1.8,2.2,2.7,3.3,3.9,4.7,5.6,6.8,8.2])),document.getElementById("tolerance").value=.05}function y(){b(ue([1,1.1,1.2,1.3,1.5,1.6,1.8,2,2.2,2.4,,2.7,3,3.3,3.6,3.9,4.3,4.7,5.1,5.6,6.2,6.8,7.5,8.2,9.1])),document.getElementById("tolerance").value=.01}function L(){b([1e5,15e4,1e3,1400,3320,4750,4.7,10,20,24.9,39,49.9,75,100,1200,165,200,300,620,16200,34e3,49900]),document.getElementById("invsum").checked=!0}function I(){b([])}return ve(()=>{L()}),[c,B,M,y,L,I]}class Me extends fe{constructor(s){super(),pe(this,s,Te,be,me,{})}}export{Me as default,Ce as metadata};
