import{s as ce,n as qt,r as de,o as he}from"./scheduler.D0k7T8uo.js";import{S as fe,i as ve,e as r,s as c,c as o,g as v,a as d,h as k,f as i,b as C,n as Ft,d as m,k as l,o as ot}from"./index.DKPK4hvO.js";function me(t){let n,u='<ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#about-the-algorithm">About the algorithm</a></li></ol>',f,y,I=`This is a tool for helping one get a reasonable resistance value given a limit
selection of resistor, by generating groups of parallel resistors. The rationale
for limiting the question to just parallel resistors/capacitors is that this is
the scenario that typically occurs in electronics experiments, particularly with
surface mount experiments: stacking components in parallel is much easier (in
most cases), than making extra space for components in series. Allowing the use
of components in both parallel and serial have the problem much too complicated
to write, so I’m limiting the use case to either just parallel or just series.`,E,x,L=`Be warned that this algorithm is currently very non-optimized, and can consume
a very large amount of memory. To help the algorithm end early, try using a
smaller tolerance or lower the maximum number of components allowed.`,R,h,_=`Since I this a tool primarily for my own use. I have loaded in some of the
components found in the electronics lab of the UMD CMS group. All the code can
be found on the <a href="https://github.com/yimuchen/yimuchen.pages" rel="nofollow">GitHub repository</a>
of this blog.`,b,s,p,H='<col style="width: 30%"/> <col style="max-width: 50%"/>',M,g,T,O="<h3>Resistor values</h3>",S,w,X,Et,Mt,kt,U,jt="Clear",Ht,A,P,Kt=`<b>Set custom values</b> <p style="font-size: 0.8em">Add a list of impedance values, separated by spaces. The short hands
        like 100K, 15.6M can be used. The multipliers &#39;p&#39;, &#39;n&#39;, &#39;u&#39;, &#39;m&#39; &#39;k/K&#39;,
        &#39;M&#39;, &#39;G&#39; may be used.</p>`,Lt,D,Y,wt,z,Vt="Add to calculator",Bt,It,G,q,Jt="<b>Load preset values</b>",Rt,B,F,Qt="Set to E12 collection",Dt,$,Wt="Set to E24 collection",Nt,j,Xt="Set to UMD 0603 Resistor",Ot,K,Yt='<td class="svelte-17u1y7x"><b>Target value</b></td> <td class="svelte-17u1y7x"><input type="text" id="target"/></td>',St,Z,Zt='<td class="svelte-17u1y7x"><b>Max. components</b></td> <td class="svelte-17u1y7x"><input type="text" id="num" value="3"/></td>',Ut,tt,te='<td class="svelte-17u1y7x"><b>Tolerance</b></td> <td class="svelte-17u1y7x"><input type="text" id="tolerance" value="0.05"/></td>',At,et,ee='<td class="svelte-17u1y7x"><b>Calculation type</b></td> <td class="svelte-17u1y7x"><input type="radio" name="sum_type" id="sum"/>R-Series/C-Parallel<br/> <input type="radio" name="sum_type" id="invsum" checked=""/>R-Parallel/C-Series</td>',Pt,V,it,zt,lt,J,le="Calculate",dt,Q,ne="Results",ht,nt,ft,st,vt,mt,pt,N,se='<a aria-hidden="true" tabindex="-1" href="#about-the-algorithm"><span class="icon icon-link"></span></a>About the algorithm',yt,W,ae=`The algorithm is basically brute forcing all possible combinations with an
early exist for when combination moves above/below the tolerance, since if
calculating resistance series, the total resistance can only go up, and there
is no point in trying more if already past the tolerance threshold (vice versa
for resistance parallel calculations). This is highly inefficient and very
memory hungry, but is easy enough to code in one afternoon, that is what I
went with :/`,Gt,re;return{c(){n=r("nav"),n.innerHTML=u,f=c(),y=r("p"),y.textContent=I,E=c(),x=r("p"),x.textContent=L,R=c(),h=r("p"),h.innerHTML=_,b=c(),s=r("table"),p=r("colgroup"),p.innerHTML=H,M=c(),g=r("tr"),T=r("td"),T.innerHTML=O,S=c(),w=r("td"),X=r("div"),Et=c(),Mt=r("br"),kt=c(),U=r("button"),U.textContent=jt,Ht=c(),A=r("tr"),P=r("td"),P.innerHTML=Kt,Lt=c(),D=r("td"),Y=r("input"),wt=c(),z=r("button"),z.textContent=Vt,Bt=r("br"),It=c(),G=r("tr"),q=r("td"),q.innerHTML=Jt,Rt=c(),B=r("td"),F=r("button"),F.textContent=Qt,Dt=c(),$=r("button"),$.textContent=Wt,Nt=c(),j=r("button"),j.textContent=Xt,Ot=c(),K=r("tr"),K.innerHTML=Yt,St=c(),Z=r("tr"),Z.innerHTML=Zt,Ut=c(),tt=r("tr"),tt.innerHTML=te,At=c(),et=r("tr"),et.innerHTML=ee,Pt=c(),V=r("tr"),it=r("td"),zt=c(),lt=r("td"),J=r("button"),J.textContent=le,dt=c(),Q=r("h2"),Q.textContent=ne,ht=c(),nt=r("div"),ft=c(),st=r("div"),vt=c(),mt=r("hr"),pt=c(),N=r("h2"),N.innerHTML=se,yt=c(),W=r("p"),W.textContent=ae,this.h()},l(e){n=o(e,"NAV",{class:!0,"data-svelte-h":!0}),v(n)!=="svelte-1rfbyxg"&&(n.innerHTML=u),f=d(e),y=o(e,"P",{"data-svelte-h":!0}),v(y)!=="svelte-wmfolo"&&(y.textContent=I),E=d(e),x=o(e,"P",{"data-svelte-h":!0}),v(x)!=="svelte-1crk5tg"&&(x.textContent=L),R=d(e),h=o(e,"P",{"data-svelte-h":!0}),v(h)!=="svelte-zcnrfa"&&(h.innerHTML=_),b=d(e),s=o(e,"TABLE",{});var a=k(s);p=o(a,"COLGROUP",{"data-svelte-h":!0}),v(p)!=="svelte-79595x"&&(p.innerHTML=H),M=d(a),g=o(a,"TR",{});var bt=k(g);T=o(bt,"TD",{class:!0,"data-svelte-h":!0}),v(T)!=="svelte-jnfzrg"&&(T.innerHTML=O),S=d(bt),w=o(bt,"TD",{class:!0});var at=k(w);X=o(at,"DIV",{id:!0,style:!0}),k(X).forEach(i),Et=d(at),Mt=o(at,"BR",{}),kt=d(at),U=o(at,"BUTTON",{"data-svelte-h":!0}),v(U)!=="svelte-2wc31d"&&(U.textContent=jt),at.forEach(i),bt.forEach(i),Ht=d(a),A=o(a,"TR",{});var xt=k(A);P=o(xt,"TD",{class:!0,"data-svelte-h":!0}),v(P)!=="svelte-1nyj84w"&&(P.innerHTML=Kt),Lt=d(xt),D=o(xt,"TD",{class:!0});var ut=k(D);Y=o(ut,"INPUT",{type:!0,id:!0,style:!0}),wt=d(ut),z=o(ut,"BUTTON",{"data-svelte-h":!0}),v(z)!=="svelte-1o4xrhn"&&(z.textContent=Vt),Bt=o(ut,"BR",{}),ut.forEach(i),xt.forEach(i),It=d(a),G=o(a,"TR",{});var _t=k(G);q=o(_t,"TD",{class:!0,"data-svelte-h":!0}),v(q)!=="svelte-lkgwge"&&(q.innerHTML=Jt),Rt=d(_t),B=o(_t,"TD",{class:!0});var rt=k(B);F=o(rt,"BUTTON",{"data-svelte-h":!0}),v(F)!=="svelte-13od4ec"&&(F.textContent=Qt),Dt=d(rt),$=o(rt,"BUTTON",{"data-svelte-h":!0}),v($)!=="svelte-poolhq"&&($.textContent=Wt),Nt=d(rt),j=o(rt,"BUTTON",{"data-svelte-h":!0}),v(j)!=="svelte-1rr50zb"&&(j.textContent=Xt),rt.forEach(i),_t.forEach(i),Ot=d(a),K=o(a,"TR",{style:!0,"data-svelte-h":!0}),v(K)!=="svelte-1ios1o6"&&(K.innerHTML=Yt),St=d(a),Z=o(a,"TR",{"data-svelte-h":!0}),v(Z)!=="svelte-1d9yz0l"&&(Z.innerHTML=Zt),Ut=d(a),tt=o(a,"TR",{"data-svelte-h":!0}),v(tt)!=="svelte-kokd5h"&&(tt.innerHTML=te),At=d(a),et=o(a,"TR",{"data-svelte-h":!0}),v(et)!=="svelte-1vmat4j"&&(et.innerHTML=ee),Pt=d(a),V=o(a,"TR",{});var gt=k(V);it=o(gt,"TD",{class:!0}),k(it).forEach(i),zt=d(gt),lt=o(gt,"TD",{class:!0});var oe=k(lt);J=o(oe,"BUTTON",{"data-svelte-h":!0}),v(J)!=="svelte-14dtos0"&&(J.textContent=le),oe.forEach(i),gt.forEach(i),a.forEach(i),dt=d(e),Q=o(e,"H2",{"data-svelte-h":!0}),v(Q)!=="svelte-s6ksa4"&&(Q.textContent=ne),ht=d(e),nt=o(e,"DIV",{id:!0}),k(nt).forEach(i),ft=d(e),st=o(e,"DIV",{id:!0}),k(st).forEach(i),vt=d(e),mt=o(e,"HR",{}),pt=d(e),N=o(e,"H2",{id:!0,"data-svelte-h":!0}),v(N)!=="svelte-1kzhkld"&&(N.innerHTML=se),yt=d(e),W=o(e,"P",{"data-svelte-h":!0}),v(W)!=="svelte-149oj89"&&(W.textContent=ae),this.h()},h(){C(n,"class","toc"),C(T,"class","svelte-17u1y7x"),C(X,"id","resistors"),Ft(X,"display","table"),C(w,"class","svelte-17u1y7x"),C(P,"class","svelte-17u1y7x"),C(Y,"type","text"),C(Y,"id","resistance-input"),Ft(Y,"width","100%"),C(D,"class","svelte-17u1y7x"),C(q,"class","svelte-17u1y7x"),C(B,"class","svelte-17u1y7x"),Ft(K,"border-top","thick"),C(it,"class","svelte-17u1y7x"),C(lt,"class","svelte-17u1y7x"),C(nt,"id","results"),C(st,"id","debug"),C(N,"id","about-the-algorithm")},m(e,a){m(e,n,a),m(e,f,a),m(e,y,a),m(e,E,a),m(e,x,a),m(e,R,a),m(e,h,a),m(e,b,a),m(e,s,a),l(s,p),l(s,M),l(s,g),l(g,T),l(g,S),l(g,w),l(w,X),l(w,Et),l(w,Mt),l(w,kt),l(w,U),l(s,Ht),l(s,A),l(A,P),l(A,Lt),l(A,D),l(D,Y),l(D,wt),l(D,z),l(D,Bt),l(s,It),l(s,G),l(G,q),l(G,Rt),l(G,B),l(B,F),l(B,Dt),l(B,$),l(B,Nt),l(B,j),l(s,Ot),l(s,K),l(s,St),l(s,Z),l(s,Ut),l(s,tt),l(s,At),l(s,et),l(s,Pt),l(s,V),l(V,it),l(V,zt),l(V,lt),l(lt,J),m(e,dt,a),m(e,Q,a),m(e,ht,a),m(e,nt,a),m(e,ft,a),m(e,st,a),m(e,vt,a),m(e,mt,a),m(e,pt,a),m(e,N,a),m(e,yt,a),m(e,W,a),Gt||(re=[ot(U,"click",t[5]),ot(z,"click",t[1]),ot(F,"click",t[2]),ot($,"click",t[3]),ot(j,"click",t[4]),ot(J,"click",t[0])],Gt=!0)},p:qt,i:qt,o:qt,d(e){e&&(i(n),i(f),i(y),i(E),i(x),i(R),i(h),i(b),i(s),i(dt),i(Q),i(ht),i(nt),i(ft),i(st),i(vt),i(mt),i(pt),i(N),i(yt),i(W)),Gt=!1,de(re)}}}const ge={title:"電阻計算機 (Resistance calculator)",tags:["computing","tools","electronics"]};function pe(t){return t>0?t:-t}function Tt(t,n){return pe(t-n)/n}function ct(t){var n=0;return t.forEach(u=>n+=u),n}function Ct(t){var n=0;return t.forEach(u=>n+=1/u),1/n}function ue(t){const n=t<1e-9?1e-12:t<1e-6?1e-9:t<.001?1e-6:t<1?.001:t<1e3?1:t<1e6?1e3:t<1e9?1e6:1e9,u=t<1e-9?"p":t<1e-6?"n":t<.001?"u":t<1?"m":t<1e3?" ":t<1e6?"k":t<1e9?"M":"G";return`${Number.parseFloat((t/n).toFixed(5))}`+u}function $t(t){const n="pnumkKMG";var u=t.charAt(t.length-1);return n.includes(u)&&(t=t.substring(0,t.length-1)),u=u=="p"?1e-12:u=="n"?1e-9:u=="u"?1e-6:u=="m"?.001:u=="k"||u=="K"?1e3:u=="M"?1e6:u=="G"?1e9:1,Number(t)*u}function ye(t){const n=$t(document.getElementById("target").value);Number(document.getElementById("tolerance").value);const u=document.getElementById("invsum").checked?Ct:ct;t.sort((E,x)=>{var L=Tt(u(E),n)-Tt(u(x),n);if(L!=0)return L;var R=E.length-x.length;if(R!=0)return R;var h=E.filter((b,s,p)=>p.indexOf(b)===s),_=x.filter((b,s,p)=>p.indexOf(b)===s);return h.length-_.length});var f="Total number of solutions: "+t.length;t.length>100&&(f+="(Showing closest 100 solutions)"),f+='<table style="margin-left: auto; margin-right: auto;">',f+=`<tr style="text-align:center">
           <th>Combination</th>
           <th>Result</th>
           <th>Deviation</th>
    </tr>`;for(var y=0;y<t.length&&y<100;++y){const E=t[y],x=u(E),L=Tt(x,n);f+="<tr>",f+="<td>";for(var I=0;I<E.length;++I)I!=0&&(u===Ct?f+=" || ":f+=" + "),f+=ue(E[I]);f+="</td>",f+=`<td>${x.toFixed(2)}</td>`,f+=`<td>${(L*100).toFixed(1)}% </td>`,f+="</tr>"}f+="</table>",document.getElementById("results").innerHTML=f}function ie(t){const n=[];for(const u of[1,10,100,1e3,1e4,1e5])t.forEach(f=>n.push(f*u));return n}function be(t){var n=[];function u(){var h=[];const _=$t(document.getElementById("target").value),b=Number(document.getElementById("tolerance").value),s=document.getElementById("invsum").checked?Ct:ct,p=Number(document.getElementById("num").value);f(h,[],p,s,_,b),console.log("Final result:",h),ye(h)}function f(h,_,b,s,p,H){var M=s===ct?1:-1,g=s===ct?0:n.length-1;_.length>0&&(g=n.indexOf(_[_.length-1]));for(var T=g;T<n.length&&T>=0;T+=M){const O=[..._,n[T]],S=s(O);if(Tt(S,p)<H&&h.push(O),s===ct){if(S>p*(1+H))break}else if(s===Ct&&S<p*(1+H))break;O.length<b&&f(h,O,b,s,p,H)}}function y(h){n=h.sort((M,g)=>M-g),n=n.filter((M,g,T)=>T.indexOf(M)===g);for(var _=1e-12,b=1e-11,s="<div>";b<1e10;){var p=n.filter(function(M,g,T){return _<=M&&M<b}),H='<div style="display: table-row;">';p.forEach(M=>{H+='<div style="display: table-cell; padding-left:0.2em;">'+ue(M)+"</div>"}),H+="</div>",p.length>0&&(s+=H),_*=10,b*=10}n.length===0&&(s+="(None)"),s+="</div>",document.getElementById("resistors").innerHTML=s}function I(){var h=document.getElementById("resistance-input").value;h=h.split(/[\s,]+/),h=h.map(_=>$t(_)),y([...n,h])}function E(){y(ie([1,1.2,1.5,1.8,2.2,2.7,3.3,3.9,4.7,5.6,6.8,8.2])),document.getElementById("tolerance").value=.05}function x(){y(ie([1,1.1,1.2,1.3,1.5,1.6,1.8,2,2.2,2.4,,2.7,3,3.3,3.6,3.9,4.3,4.7,5.1,5.6,6.2,6.8,7.5,8.2,9.1])),document.getElementById("tolerance").value=.01}function L(){y([1e5,15e4,1e3,1400,3320,4750,4.7,10,20,24.9,39,49.9,75,100,1200,165,200,300,620,16200,34e3,49900]),document.getElementById("invsum").checked=!0}function R(){y([])}return he(()=>{L()}),[u,I,E,x,L,R]}class Te extends fe{constructor(n){super(),ve(this,n,be,me,ce,{})}}export{Te as default,ge as metadata};
