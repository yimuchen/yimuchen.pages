import{b as P}from"../chunks/paths.DlzCygjb.js";import{s as M,n as A}from"../chunks/scheduler.D8jTWijz.js";import{S as N,i as R,s as C,e as g,z as T,f as v,a as I,c as b,g as Y,h as j,b as k,d as O,k as p,A as S,t as w,j as y,l as L}from"../chunks/index.CNPTuR7J.js";import{e as D}from"../chunks/each.D6YF6ztN.js";import{d as z}from"../chunks/posts.CXhWDRWx.js";const $=async({fetch:h})=>{const a=await(await h(`${P}/api/posts`)).json();var n={};for(const c of a){const i=new Date(c.meta.date).getFullYear();i in n||(n[i]=[]),n[i].push(c)}for(const c in n)n[c].sort((_,i)=>_.meta.date<i.meta.date);return n},x=Object.freeze(Object.defineProperty({__proto__:null,load:$},Symbol.toStringTag,{value:"Module"}));function H(h,l,a){const n=h.slice();return n[1]=l[a][0],n[2]=l[a][1],n}function U(h,l,a){const n=h.slice();return n[1]=l[a][0],n[5]=l[a][1],n}function V(h,l,a){const n=h.slice();return n[8]=l[a],n}function q(h){let l,a,n=h[8].meta.title+"",c,_,i,f=z(new Date(h[8].meta.date))+"",m,s,o,r,e=(h[8].meta.description?h[8].meta.description:"")+"",d;return{c(){l=g("li"),a=g("a"),c=w(n),i=w(" ("),m=w(f),s=w(")"),o=g("br"),r=C(),d=w(e),this.h()},l(t){l=b(t,"LI",{});var u=j(l);a=b(u,"A",{href:!0});var E=j(a);c=y(E,n),E.forEach(v),i=y(u," ("),m=y(u,f),s=y(u,")"),o=b(u,"BR",{}),r=I(u),d=y(u,e),u.forEach(v),this.h()},h(){k(a,"href",_=""+(P+h[8].path))},m(t,u){O(t,l,u),p(l,a),p(a,c),p(l,i),p(l,m),p(l,s),p(l,o),p(l,r),p(l,d)},p(t,u){u&1&&n!==(n=t[8].meta.title+"")&&L(c,n),u&1&&_!==(_=""+(P+t[8].path))&&k(a,"href",_),u&1&&f!==(f=z(new Date(t[8].meta.date))+"")&&L(m,f),u&1&&e!==(e=(t[8].meta.description?t[8].meta.description:"")+"")&&L(d,e)},d(t){t&&v(l)}}}function B(h){let l,a,n=h[1]+"",c,_,i,f,m=D(h[5]),s=[];for(let o=0;o<m.length;o+=1)s[o]=q(V(h,m,o));return{c(){l=g("div"),a=g("h2"),c=w(n),i=C(),f=g("ul");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){l=b(o,"DIV",{class:!0});var r=j(l);a=b(r,"H2",{id:!0});var e=j(a);c=y(e,n),e.forEach(v),i=I(r),f=b(r,"UL",{});var d=j(f);for(let t=0;t<s.length;t+=1)s[t].l(d);d.forEach(v),r.forEach(v),this.h()},h(){k(a,"id",_="year"+h[1]),k(l,"class","content-container")},m(o,r){O(o,l,r),p(l,a),p(a,c),p(l,i),p(l,f);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(f,null)},p(o,r){if(r&1&&n!==(n=o[1]+"")&&L(c,n),r&1&&_!==(_="year"+o[1])&&k(a,"id",_),r&1){m=D(o[5]);let e;for(e=0;e<m.length;e+=1){const d=V(o,m,e);s[e]?s[e].p(d,r):(s[e]=q(d),s[e].c(),s[e].m(f,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=m.length}},d(o){o&&v(l),S(s,o)}}}function F(h){let l,a,n=h[1]+"",c,_;return{c(){l=g("li"),a=g("a"),c=w(n),this.h()},l(i){l=b(i,"LI",{});var f=j(l);a=b(f,"A",{href:!0});var m=j(a);c=y(m,n),m.forEach(v),f.forEach(v),this.h()},h(){k(a,"href",_="#year"+h[1])},m(i,f){O(i,l,f),p(l,a),p(a,c)},p(i,f){f&1&&n!==(n=i[1]+"")&&L(c,n),f&1&&_!==(_="#year"+i[1])&&k(a,"href",_)},d(i){i&&v(l)}}}function G(h){let l,a,n="Posts by date",c,_,i,f,m=D([...Object.entries(h[0])].reverse()),s=[];for(let e=0;e<m.length;e+=1)s[e]=B(U(h,m,e));let o=D([...Object.entries(h[0])].reverse()),r=[];for(let e=0;e<o.length;e+=1)r[e]=F(H(h,o,e));return{c(){l=C(),a=g("h1"),a.textContent=n,c=C();for(let e=0;e<s.length;e+=1)s[e].c();_=C(),i=g("div"),f=g("ul");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){T("svelte-1uojcgh",document.head).forEach(v),l=I(e),a=b(e,"H1",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-210vh6"&&(a.textContent=n),c=I(e);for(let E=0;E<s.length;E+=1)s[E].l(e);_=I(e),i=b(e,"DIV",{class:!0});var t=j(i);f=b(t,"UL",{});var u=j(f);for(let E=0;E<r.length;E+=1)r[E].l(u);u.forEach(v),t.forEach(v),this.h()},h(){document.title="Posts by date",k(a,"class","svelte-1b7igue"),k(i,"class","toc svelte-1b7igue")},m(e,d){O(e,l,d),O(e,a,d),O(e,c,d);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,d);O(e,_,d),O(e,i,d),p(i,f);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(f,null)},p(e,[d]){if(d&1){m=D([...Object.entries(e[0])].reverse());let t;for(t=0;t<m.length;t+=1){const u=U(e,m,t);s[t]?s[t].p(u,d):(s[t]=B(u),s[t].c(),s[t].m(_.parentNode,_))}for(;t<s.length;t+=1)s[t].d(1);s.length=m.length}if(d&1){o=D([...Object.entries(e[0])].reverse());let t;for(t=0;t<o.length;t+=1){const u=H(e,o,t);r[t]?r[t].p(u,d):(r[t]=F(u),r[t].c(),r[t].m(f,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=o.length}},i:A,o:A,d(e){e&&(v(l),v(a),v(c),v(_),v(i)),S(s,e),S(r,e)}}}function J(h,l,a){let{data:n}=l;return h.$$set=c=>{"data"in c&&a(0,n=c.data)},[n]}class ee extends N{constructor(l){super(),R(this,l,J,G,M,{data:0})}}export{ee as component,x as universal};
