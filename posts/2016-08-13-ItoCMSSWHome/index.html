<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
		<link href="../../_app/immutable/assets/0.COE_kSqZ.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/5.DCIUOyEa.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/2017-02-17-TEXTip_custompackage.BJ_OyN1F.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/2017-11-10-Stamps.fmqiAiqW.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/2019-07-31-resistorcalc.CCVtijh-.css" rel="stylesheet">
		<link rel="modulepreload" href="../../_app/immutable/entry/start.CfNWxFgY.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/entry.ChXo_7W6.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/scheduler.D0k7T8uo.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.D9n5n-wJ.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/paths.CWVLUeLs.js">
		<link rel="modulepreload" href="../../_app/immutable/entry/app.CG8mIXgs.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/preload-helper.D6kgxu3v.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.BWiPcvWN.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/0.Dzi52tLC.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.DkfvVG74.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/index.CdQvNdX5.js">
		<link rel="modulepreload" href="../../_app/immutable/nodes/5.CwydSqbh.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/each.D6YF6ztN.js">
		<link rel="modulepreload" href="../../_app/immutable/chunks/posts.CXhWDRWx.js"><title>Introduction to CMS Software</title><!-- HEAD_svelte-tef83d_START --><!-- HEAD_svelte-tef83d_END -->
  </head>
  <body>
    <div>  <button id="showButton" class="svelte-16eha3j"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- HTML_TAG_START --><path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"></path><!-- HTML_TAG_END --></svg></button>  <main> <header style="background-image: url(&quot;../../image/banner/code_head_1.png&quot;);" class="svelte-a9w2ls"><h1 class="svelte-a9w2ls">Introduction to CMS Software</h1> <p>2016.Aug.13</p></header> <article class="content-container"><nav class="toc" data-svelte-h="svelte-4eemx9"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#disclaimer">Disclaimer</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#contents">Contents</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#prerequisites">Prerequisites</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#why-i-am-writing-this">Why I am writing this</a></li></ol></nav> <h2 id="disclaimer" data-svelte-h="svelte-11n030f"><a aria-hidden="true" tabindex="-1" href="#disclaimer"><span class="icon icon-link"></span></a>Disclaimer</h2> <p data-svelte-h="svelte-1bmfsdc">I do not own any of the contents of <a href="https://github.com/cms-sw/cmssw" rel="nofollow">CMSSW</a>,
nor indeed participated in any significant <a href="http://cms-sw.github.io/tutorial-collaborating-with-peers.html" rel="nofollow">development of
CMSSW</a>. I am
just trying to share my experience in developing my analysis code using the
tool provided. If any developer does not wish the contents of these pages to be
hosted here, notify me and I will take them down immediately!</p> <h2 id="contents" data-svelte-h="svelte-1xdtk8i"><a aria-hidden="true" tabindex="-1" href="#contents"><span class="icon icon-link"></span></a>Contents</h2> <ol data-svelte-h="svelte-uchuk1"><li><a href="../2016-08-14-ItoCMSSW01HelloWorld">The compiling environment and <code>Hello world</code>!</a></li> <li><a href="../2016-08-15-ItoCMSSW02EDMFirstLook">Meeting the Event Data Model(EDM) file format</a></li> <li><a href="../2016-08-29-ItoCMSSW03MainFWFirstLook">First look at full CMSSW</a></li> <li>Altering the contents of EDM files</li> <li>Saving your own C++ formats</li></ol> <h2 id="prerequisites" data-svelte-h="svelte-187d8ol"><a aria-hidden="true" tabindex="-1" href="#prerequisites"><span class="icon icon-link"></span></a>Prerequisites</h2> <p data-svelte-h="svelte-1dht09d">In these pages, I am assuming that you are already familiar with:</p> <ul data-svelte-h="svelte-1m2x1ew"><li>Navigating a UNIX system with the command line</li> <li>Have access to a working CMSSW environment</li> <li>Familiar with C++ development:<ul><li>Has rudimentary knowledge of writing multi-file C++ projects.</li> <li>Shared object files.</li> <li>Include path, link path, paths in general.</li></ul></li> <li>Understand basic python syntax<ul><li>Even if you don’t, python syntax is very easy to pick up if you know other
programming languages.</li> <li>You do not need to know the python feature, just basic control flow and
object declaration.</li></ul></li></ul> <p data-svelte-h="svelte-1vpnxie">First, lets unify the software version we will be using throughout this
tutorial by setting up the CMSSW environment</p> <div class="code-block-container" data-svelte-h="svelte-18pur49"><div class="code-block-header"><span class="code-block-lang">[bash]</span></div> <div class="code-block code-copyable"><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F92672">export</span><span style="color:#F8F8F2"> SCRAM_ARCH</span><span style="color:#F92672">=</span><span style="color:#F8F8F2">slc6_amd64_gcc530</span></span>
<span class="line"><span style="color:#A6E22E">cmsrel</span><span style="color:#E6DB74"> CMSSW_8_0_16</span></span>
<span class="line"><span style="color:#66D9EF">cd</span><span style="color:#E6DB74"> CMSSW_8_0_16/src</span></span>
<span class="line"><span style="color:#A6E22E">cmsenv</span></span></code></pre></div></div> <p data-svelte-h="svelte-5cvnxb">This should give you a directory as that looks something like:</p> <div class="code-block-container" data-svelte-h="svelte-zbocw2"><div class="code-block code-copyable"><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span>└── CMSSW_8_0_16</span></span>
<span class="line"><span>    ├── biglib</span></span>
<span class="line"><span>    ├── bin</span></span>
<span class="line"><span>    ├── cfipython</span></span>
<span class="line"><span>    ├── config</span></span>
<span class="line"><span>    ├── doc</span></span>
<span class="line"><span>    ├── external</span></span>
<span class="line"><span>    ├── include</span></span>
<span class="line"><span>    ├── lib</span></span>
<span class="line"><span>    ├── logs</span></span>
<span class="line"><span>    ├── objs</span></span>
<span class="line"><span>    ├── python</span></span>
<span class="line"><span>    ├── src</span></span>
<span class="line"><span>    ├── test</span></span>
<span class="line"><span>    └── tmp</span></span></code></pre></div></div> <p data-svelte-h="svelte-4ignec">We will be working mainly in the <code>CMSSW_8_0_16/src</code> directory, where all of
your source code goes, looking a bit at the other directories when it is
needed. Also note that the majority of the tutorial would be version
independent, and version dependent snippets will (hopefully) be spelled out
explicitly.</p> <h2 id="why-i-am-writing-this" data-svelte-h="svelte-1yuxh19"><a aria-hidden="true" tabindex="-1" href="#why-i-am-writing-this"><span class="icon icon-link"></span></a>Why I am writing this</h2> <blockquote data-svelte-h="svelte-1pf3b4m"><blockquote><p>工欲善其事，必先利其器 - 《論語·魏靈公》</p></blockquote></blockquote> <p data-svelte-h="svelte-1vbxk6x">There are two equally important aspects of writing code: writing such that
computers could understand what you want; and writing such that humans could
understand what you are trying to do. Unfortunately, when there is a demand for
immediate results, the writing of analysis code typically begins slipping into
the unfortunate mindset of “write once, run once, read never”. This practice I
believe is damaging for the analysis in the long run, with advances in analysis
techniques and commonly used subroutines constantly being lost in heaps of
unreadable code, and excessive man power being wasted on reinventing wheels
that have been used multiple times already.</p> <p data-svelte-h="svelte-17vmafz">The CMS Software frameworks actually provide a very nice structure for
organizing code, as well as a powerful specialized library for event based data
storage; both aspects of which is highly under-appreciated by the majority of
people performing analysis work. Yes, the learning curve might be steep, but as
the scale required for analysis grows larger, I think it is worth it to learn
C++ development tools to allow for your works to grow independently of who is
still working on a project. CMSSW already provides a simplified and
easily-readable version so that one does not have to learn the even-harder
<a href="https://www.gnu.org/software/make/manual/make.html" rel="nofollow"><code>make</code></a> or
<a href="https://cmake.org/" rel="nofollow"><code>cmake</code></a> workflows.</p> <p data-svelte-h="svelte-1sowiu3">A part of why the learning curve is so steep for a supposedly simplified system
lays with the documentation, which, though being detailed, is spread-out
through many disconnected pages in the <a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/WorkBookAnalysisOverviewIntroduction" rel="nofollow">CERN
wiki</a>,
and fails to give a comfortable starting point for a beginner to start reading
and learning. This is what I intend to provide here: if you are familiar
enough with C++, hopefully you would find these pages helpful!</p></article> <footer class="svelte-a9w2ls"><span class="foot-header svelte-a9w2ls" data-svelte-h="svelte-1vhgsge">Tags</span><br> <span class="svelte-a9w2ls"><a href="../../tags/#c++">c++</a></span><span class="svelte-a9w2ls"><a href="../../tags/#python">python</a></span><span class="svelte-a9w2ls"><a href="../../tags/#cmssw">cmssw</a></span></footer> <div class="side-bar svelte-ype9gw"><button class="svelte-ype9gw"><div id="side-toggler-hide"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- HTML_TAG_START --><path fill="currentColor" d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"></path><!-- HTML_TAG_END --></svg></div> <div id="side-toggler-show"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-left" class="svg-inline--fa fa-chevron-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!-- HTML_TAG_START --><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"></path><!-- HTML_TAG_END --></svg></div></button> <div class="side-bar-button"></div> <div class="side-bar-slider"><div class="side-bar-content svelte-ype9gw"><h2 class="side-bar-header svelte-ype9gw" data-svelte-h="svelte-r83smw">Outline</h2> <div id="side-bar-list"></div></div></div> </div></main> <footer class="svelte-ze0gu2"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!-- HTML_TAG_START --><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path><!-- HTML_TAG_END --></svg> <a href="https://github.com/yimuchen/" data-svelte-h="svelte-1lnvvne">Find me on GitHub</a> </footer> 
			
			<script>
				{
					__sveltekit_4f47hs = {
						base: new URL("../..", location).pathname.slice(0, -1),
						assets: "/yimuchen.pages"
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../../_app/immutable/entry/start.CfNWxFgY.js"),
						import("../../_app/immutable/entry/app.CG8mIXgs.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
